package frc.robot.subsystems;

import com.ctre.phoenix.music.Orchestra;
import com.ctre.phoenix6.controls.MusicTone;
import com.ctre.phoenix6.hardware.TalonFX;

import edu.wpi.first.wpilibj.Timer;
import frc.robot.Constants;

public class Music {
    
    private Orchestra orchestra;
    private String songPath;
    private TalonFX motor;
    private TalonFX motor2;
    private double[] notes = new double[]{59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 63, 59, 66, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 64, 59, 67, 59, 71, 59, 69, 59, 68, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 59, 69, 59, 68, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 59, 69, 59, 68, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 59, 69, 59, 68, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 64, 59, 63, 59, 71, 35, 59, 69, 59, 68, 35, 59, 69, 59, 68, 59, 66, 59, 68, 59, 64, 59, 66, 59, 63, 59, 64, 59, 63, 59, 64, 59, 71, 83, 78, 59, 71, 78, 83, 59, 74, 78, 86, 59, 59, 59, 59, 59, 59, 59, 71, 78, 83, 59, 71, 78, 83, 59, 74, 78, 86, 59, 71, 78, 83, 59, 71, 78, 83, 59, 71, 78, 83, 74, 78, 86, 59, 71, 78, 83, 59, 71, 78, 83, 59, 59, 71, 78, 83, 69, 74, 81, 59, 59, 71, 78, 83, 59, 59, 59, 59, 59, 59, 59, 95, 83, 90, 47, 35, 90, 95, 83, 47, 35, 59, 59, 71, 78, 83, 59, 71, 78, 83, 59, 74, 78, 86, 59, 59, 59, 59, 59, 59, 71, 78, 83, 59, 71, 78, 83, 59, 74, 78, 86, 59, 71, 78, 83, 59, 59, 59, 59, 74, 78, 86, 59, 71, 78, 83, 59, 59, 71, 78, 83, 59, 71, 78, 83, 59, 59, 59, 59, 59, 59, 59, 95, 83, 90, 47, 35, 90, 95, 83, 47, 35, 47, 50, 47, 50, 52, 50, 54, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 47, 47, 50, 47, 50, 52, 50, 54, 47, 47, 47, 47, 50, 47, 50, 52, 50, 54, 47, 42, 47, 47, 42, 47, 50, 47, 50, 52, 50, 54, 47, 42, 47, 47, 42, 47, 50, 47, 50, 52, 50, 54, 47};

    public Music(){
        orchestra = new Orchestra();
        motor = new TalonFX(Constants.Ports.musicMotor);
        motor2 = new TalonFX(Constants.Ports.musicMotor2);
        //orchestra.addInstrument(motor);
        orchestra.loadMusic("Thunderstruck.chrp");
        
    }

    public void play(){
        for(int i = 0; i < notes.length; i++){
            motor.setControl(new MusicTone(convertToHz(notes[i])));
            //motor2.setControl(new MusicTone(convertToHz(notes[i])));
            Timer.delay(0.15);
        }
        //orchestra.play();
    }

    public static double convertToHz(double n){
        return Math.pow(2,(n-69)/12) * 440;
    }
}
